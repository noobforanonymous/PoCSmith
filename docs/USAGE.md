# PoCSmith - Usage Guide

## Command-Line Interface

PoCSmith provides a command-line interface for generating exploits and shellcode.

---

## Basic Commands

### 1. Generate Exploit from CVE

```bash
python src/cli/main.py cve CVE-2024-1234
```

**Options:**
- `--output FILE` - Save to file instead of printing
- `--no-cache` - Skip local CVE cache, fetch fresh from NVD

**Example:**
```bash
python src/cli/main.py cve CVE-2017-0144 --output eternalblue.py
```

---

### 2. Generate from Description

```bash
python src/cli/main.py generate --vuln "buffer overflow" \
  --target "Apache 2.4" \
  --details "Stack-based overflow in header parsing"
```

**Options:**
- `--vuln TEXT` - Vulnerability type (required)
- `--target TEXT` - Target software/version
- `--details TEXT` - Additional details
- `--output FILE` - Save to file

---

### 3. Generate Shellcode

```bash
python src/cli/main.py shellcode \
  --platform linux_x64 \
  --type reverse_shell \
  --lhost 10.10.14.5 \
  --lport 4444
```

**Platforms:**
- `linux_x86` - Linux 32-bit
- `linux_x64` - Linux 64-bit
- `windows_x86` - Windows 32-bit
- `windows_x64` - Windows 64-bit
- `arm` - ARM 32-bit

**Payload Types:**
- `reverse_shell` - Connect back to attacker
- `bind_shell` - Listen on port
- `exec` - Execute command
- `download_exec` - Download and run

---

### 4. List Available Options

```bash
# List supported platforms
python src/cli/main.py list-platforms

# List payload types
python src/cli/main.py list-payloads

# Show ethical disclaimer
python src/cli/main.py disclaimer
```

---

## Examples

### Example 1: CVE Exploit

```bash
$ python src/cli/main.py cve CVE-2024-1234

PoCSmith v1.0

[*] Fetching CVE-2024-1234...
[+] Buffer overflow in HTTP header parsing...
[+] CVSS: 9.8 (CRITICAL)
[*] Generating exploit...

============================================================
#!/usr/bin/env python3
"""
Exploit for CVE-2024-1234
Generated by PoCSmith
"""
...
============================================================
```

### Example 2: Shellcode

```bash
$ python src/cli/main.py shellcode \
    --platform linux_x86 \
    --type reverse_shell \
    --lhost 192.168.1.100 \
    --lport 4444

[*] Generating reverse_shell for linux_x86...

============================================================
/*
 * (linux/x86) reverse shell
 * Target: 192.168.1.100:4444
 */

\x31\xc0\x50\x68...
============================================================
```

### Example 3: Save to File

```bash
$ python src/cli/main.py generate \
    --vuln "SQL injection" \
    --target "MySQL 5.7" \
    --output sqli_exploit.py

[*] Generating exploit for: SQL injection
[*] Target: MySQL 5.7
[+] Saved to: output/sqli_exploit.py
```

---

## Output Directory

Generated files are saved to `output/` by default.

```
PoCSmith/
└── output/
    ├── exploit.py
    ├── shellcode.txt
    └── ...
```

---

## Tips

1. **Start with simple queries** - The AI works best with clear, specific descriptions
2. **Use CVE IDs when possible** - Provides more context to the model
3. **Verify generated code** - Always review and test in safe

 environments
4. **Save important outputs** - Use `--output` to keep useful exploits

---

## Troubleshooting

**Model not found:**
```
Error: Model path not found
```
Solution: Ensure `models/pocsmith-v1/` exists

**NVD API rate limit:**
```
Error fetching CVE: 403
```
Solution: Wait 30 seconds between requests (5 req/30s limit)

**Out of memory:**
```
CUDA out of memory
```
Solution: Close other GPU applications or reduce batch size

---

## Ethical Usage

**Always:**
- Get written permission before testing
- Use in controlled lab environments
- Follow responsible disclosure
- Document your findings

**Never:**
- Attack systems without authorization
- Use for malicious purposes
- Share exploits publicly without disclosure
- Violate laws or regulations

---

For more details, see [README.md](../README.md)
